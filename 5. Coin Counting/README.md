# Описание
Задача автоматического подсчета суммарной стоимости монет на изображении. Необходимо детектировать и подсчитать количество монет, а затем постараться оценить суммарное количество денег.

# Алгоритм
* Обучение каскада Хаара для распознавания монет на изображении
* Предварительная обработка изображения
* Выделение цифры на изображении
* Извлечение признаков
* Классификация цифры
* Подсчет общего значения монет

# Структура проекта
* test_images - папка с фотографиями для тестирования 
* train_images - папка с фотографями для обучения
* cascade.xml - итоговый каскад для поиска монет
* classifier.pkl - итоговый классификатор
* config.ini - конфигурационный файл
* модуль *hse_cv*:
  * config.py - получение конфигурации из файла *config.ini*
  * модуль *coin_counting*:
    * image_processing.py - предобработка и получение фич из изображения
    * train_classifier.py - обучение классификатора
    * predict.py - предсказание суммы денег на фотографии
  * модуль *util*:
    * resize_images.py - сжатие изображений

# Запуск программы из командной строки
Программу можно запустить из командной строки. Можно выполнить следующие команды:
**resize** - уменьшение изображений в папке. Аргументы:
* input_dir - путь к папке с изображениями, которые необходимо уменьшить
* scaling_factor - коэффициент уменьшения изображений
* output_dir - путь к папке, в которой разместить уменьшенные изображения
Пример:
```bash
$ python main.py -c resize -input_dir train_images -scaling_factor 0.026 -output_dir small_images
```

**train** - обучение классификатора. Аргументы:
* input_dir - путь к папке с изображениями для обучения
Пример:
```bash
$ python main.py -c train -input_dir train_images
```

**predict** - предсказание суммы денег на изображении. Аргументы:
* image - путь к изображению
Пример:
```bash
$ python main.py -c predict -image "test_images/Picture3.jpg"
```

# Members
* Ketkov Sergey
* Kondratev Nikita @nskondratev - nskondratyev@yandex.ru
* Makarova Olga
* Pribytkina Daria
